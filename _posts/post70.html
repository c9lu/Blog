<div class="entry-content">

<p>Although my new blog site is still work in progress, but I have decided to host it on Azure – which is where you are at right now - 
<a href="http://chenluplayground.azurewebsites.net/">http://chenluplayground.azurewebsites.net/</a>, so welcome! I believe I picked the right time to do this deployment, as Azure just announced that DocumentDB can now be used as API for MongoDB, which means I don’t need to change my code at all in order to work with DocumentDB.</p>
<p>Before I go into Dependency Injection,&nbsp; I want to mention that in my project I have a blog service which is used to retrieving blog posts data from the Node.js API. With that said, the blog service is injected in 2 places;&nbsp; I injected the blog service in the Create Bubbles component, where it needs the data to calculate the size of the circles based on the frequency of the tags,&nbsp; it is also injected in the the Blog component, where it displays the posts based on the selected category or tag. With DI, there is no need to create the blog service objects inside the components. Instead, the injector will create them for me. I don’t have to create the injector either, Angular 2 creates an injector for me during the bootstrap process. I do however have to register the provider in the app.module.ts in order for the injector to create instances of the blog service as seen below.</p>
<p><a href="https://c9lu508.files.wordpress.com/2017/04/image_thumb.png?w=328&h=265"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://c9lu508.files.wordpress.com/2017/04/image_thumb.png?w=328&h=265" width="328" height="265"></a> 
<p>And in the blog service class, I marked that the service is injectable as seen below.</p>
<p><a href="https://c9lu508.files.wordpress.com/2017/04/image_thumb1.png?w=484&h=224"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://c9lu508.files.wordpress.com/2017/04/image_thumb1.png?w=484&h=224" width="484" height="224"></a></p>
<p>As per the dependency injection pattern, the component ask for the blog service in its constructor. The injector will then inject an instance of blog service to that component.&nbsp; In theory , all of my child components (including create bubbles components) should use the same instance of the blog service, since I defined the provider only at the very top level component, which is the app.module component. The way that DI works for Angular 2 is that there is one injector per component. When Angular 2 tries to inject in the component constructor, it uses the injector associated with the component, and if there isn’t one it will look for the injector in the parent component. And here is the part where I still need to find out - when I reference the service in the components constructors, does it create a brand new instance of the service each time?&nbsp; Maybe it does, as I wasn’t able to share one of the fields belongs to the service.</p>
<p>At work I used highcharts for one of my projects. The reasons that I used D3.js for this project is not only because I wanted to learn something new, but also because I needed a visualization not specific to graphs or charts, but to any type of visualization as in my case it is the background decoration for my site. As mentioned earlier, the size of the circles are based on the frequency of the tags for the posts. In this project, I used d3.pack layout to generate the circles. At first, I thought I needed to specify the location for the individual circles like in highcharts, but I didn't. D3.pack uses the Wang et al. algorithm to position the circles. All I needed to feed in the algorithm was the size of the circles based on the frequency, and it generated the circle packing without them overlapping each other, which is exactly what I wanted. </p>
</div>